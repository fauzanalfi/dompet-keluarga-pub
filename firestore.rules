rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    // Security rules untuk aplikasi Dompet Keluarga
    // Setiap user hanya bisa akses data mereka sendiri
    
    // Rule untuk data user-specific
    match /users/{userId}/{document=**} {
      // User hanya bisa read/write data mereka sendiri
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // Jika ada koleksi publik (contoh: shared categories), tambahkan rule di bawah
    // match /public/{document=**} {
    //   allow read: if request.auth != null;
    //   allow write: if false; // atau sesuaikan dengan kebutuhan
    // }
  }
}